"use strict";(self.webpackChunkslim_mom_fullstack=self.webpackChunkslim_mom_fullstack||[]).push([[275],{7239:function(e,a,r){r.d(a,{p:function(){return M}});var n=r(5861),s=r(9439),i=r(7757),t=r.n(i),l=r(2791),o=r(3016),d="Daily_dailyContainer__LWFHd",c="Daily_dailyForm__6STV9",u="Daily_dailyDiv__fycmP",m="Daily_radioGroup__lXhfc",h="Daily_radioOptions__f8PP1",v="Daily_radioGroupLabel__WkEUa",f="Daily_radioLabel__S2oMh",g="Daily_inputBox__4gV3+",x="Daily_dailyButton__P-yCo",p="Daily_button__qjKPd",_="Modal_modal__DJDMv",j="Modal_modalContent__axM59",N="Modal_modalClose__KyeEC",y="Modal_calories__VHHl-",C="Modal_caloriesVal__E3+Jf",b="Modal_modalFood__MNSAG",S="Modal_modalButton__HInSF",k="Modal_modalList__g1sGC",I=r(1087),D=r(184),w=function(e){var a=e.isOpen,r=e.onClose,n=e.calorieIntake,s=e.foodsNotRecommended,i=e.isLoggedIn;return a?(0,D.jsx)("div",{className:_,children:(0,D.jsxs)("div",{className:j,children:[(0,D.jsx)("button",{className:N,onClick:r,children:"\xd7"}),(0,D.jsx)("h2",{children:"Your recommended daily calorie intake is"}),(0,D.jsxs)("div",{className:y,children:[(0,D.jsx)("span",{className:C,children:n})," GRAMS"]}),(0,D.jsx)("p",{className:b,children:"Foods you should not eat"}),(0,D.jsx)("ol",{className:k,children:s.map((function(e,a){return(0,D.jsx)("li",{children:e},a)}))}),i?(0,D.jsx)(I.OL,{to:"/diary",className:S,onClick:r,children:"Start losing weight"}):(0,D.jsx)(I.OL,{to:"/login",className:S,onClick:r,children:"Start losing weight"})]})}):null},Z=r(2564);r(5462);o.Z.defaults.baseURL="https://slim-mom-fullstack.onrender.com";var M=function(e){var a=e.isLoggedIn,r=(0,l.useState)(""),i=(0,s.Z)(r,2),_=i[0],j=i[1],N=(0,l.useState)(""),y=(0,s.Z)(N,2),C=y[0],b=y[1],S=(0,l.useState)(""),k=(0,s.Z)(S,2),I=k[0],M=k[1],P=(0,l.useState)("1"),L=(0,s.Z)(P,2),R=L[0],A=L[1],F=(0,l.useState)(""),W=(0,s.Z)(F,2),q=W[0],E=W[1],H=(0,l.useState)(!1),B=(0,s.Z)(H,2),G=B[0],O=B[1],K=(0,l.useState)({calorieIntake:null,foodsNotRecommended:[]}),U=(0,s.Z)(K,2),V=U[0],T=U[1],z=function(){var e=(0,n.Z)(t().mark((function e(r){var n,s,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!_||isNaN(_)||_<=0?(Z.Am.error("Please enter a valid positive number for height.."),0):!I||isNaN(I)||I<=0||I>120?(Z.Am.error("Please enter a valid age (1-120)."),0):!q||isNaN(q)||q<=0?(Z.Am.error("Please enter a valid positive number for current weight."),0):!C||isNaN(C)||C<=0?(Z.Am.error("Please enter a valid positive number for desired weight.."),0):!(Number(C)>=Number(q))||(Z.Am.error("Desired weight should be less than current weight."),0)){e.next=3;break}return e.abrupt("return");case 3:return n=a?"/api/users/addCalorieCalculation":"/api/users/addPublicCalorieCalculation",e.prev=4,e.next=7,o.Z.post(n,{height:Number(_),desiredWeight:Number(C),age:Number(I),bloodType:R,currentWeight:Number(q)});case 7:200===(s=e.sent).status&&((i=a?s.data.usersInfo:s.data.localCalorieIntake)?(O(!0),T({calorieIntake:i.recommendedCalories,foodsNotRecommended:i.foodsNotRecommended||[]}),j(""),b(""),M(""),A("1"),E("")):console.error("usersInfo is undefined:",s.data)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error in API request:",(null===(l=e.t0.response)||void 0===l?void 0:l.data)||e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(a){return e.apply(this,arguments)}}();return(0,D.jsxs)("div",{className:d,children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("h1",{children:"Calculate your daily calorie intake right now"}),(0,D.jsxs)("form",{onSubmit:z,className:c,children:[(0,D.jsxs)("div",{className:u,children:[(0,D.jsxs)("div",{className:g,children:[(0,D.jsx)("input",{type:"text",name:"height",id:"height",value:_,onChange:function(e){return j(e.target.value)},placeholder:" ",required:!0}),(0,D.jsx)("label",{htmlFor:"height",children:"Height*"})]}),(0,D.jsxs)("div",{className:g,children:[(0,D.jsx)("input",{type:"text",name:"age",id:"age",value:I,onChange:function(e){return M(e.target.value)},placeholder:" ",required:!0}),(0,D.jsx)("label",{htmlFor:"age",children:"Age*"})]}),(0,D.jsxs)("div",{className:g,children:[(0,D.jsx)("input",{type:"text",name:"currentWeight",id:"currentWeight",value:q,onChange:function(e){return E(e.target.value)},placeholder:" ",required:!0}),(0,D.jsx)("label",{htmlFor:"currentWeight",children:"Current weight*"})]})]}),(0,D.jsxs)("div",{className:u,children:[(0,D.jsxs)("div",{className:g,children:[(0,D.jsx)("input",{type:"text",name:"desiredWeight",id:"desiredWeight",value:C,onChange:function(e){return b(e.target.value)},placeholder:" ",required:!0}),(0,D.jsx)("label",{htmlFor:"desiredWeight",children:"Desired weight*"})]}),(0,D.jsxs)("div",{className:m,children:[(0,D.jsx)("label",{className:v,children:"Blood type*"}),(0,D.jsxs)("div",{className:h,children:[(0,D.jsxs)("label",{className:f,children:[(0,D.jsx)("input",{type:"radio",name:"blood",value:"1",checked:"1"===R,onChange:function(e){return A(e.target.value)},required:!0}),(0,D.jsx)("span",{children:"1"})]}),(0,D.jsxs)("label",{className:f,children:[(0,D.jsx)("input",{type:"radio",name:"blood",value:"2",checked:"2"===R,onChange:function(e){return A(e.target.value)},required:!0}),(0,D.jsx)("span",{children:"2"})]}),(0,D.jsxs)("label",{className:f,children:[(0,D.jsx)("input",{type:"radio",name:"blood",value:"3",checked:"3"===R,onChange:function(e){return A(e.target.value)},required:!0}),(0,D.jsx)("span",{children:"3"})]}),(0,D.jsxs)("label",{className:f,children:[(0,D.jsx)("input",{type:"radio",name:"blood",value:"4",checked:"4"===R,onChange:function(e){return A(e.target.value)},required:!0}),(0,D.jsx)("span",{children:"4"})]})]})]})]}),(0,D.jsx)("div",{className:x,children:(0,D.jsx)("button",{className:p,type:"submit",children:"Start losing weight"})})]})]}),(0,D.jsx)(Z.Ix,{position:"top-right",autoClose:3e3}),(0,D.jsx)(w,{isOpen:G,onClose:function(){O(!1)},calorieIntake:V.calorieIntake,foodsNotRecommended:V.foodsNotRecommended,isLoggedIn:a})]})}},5251:function(e,a,r){r.d(a,{E:function(){return d}});var n=r(9439),s=r(2791),i=r(3016),t={summaryContainer:"summary_summaryContainer__d8zkl",summarySection:"summary_summarySection__iDCeK",foodsNotRecommendedSection:"summary_foodsNotRecommendedSection__SmKK5"},l=r(9900),o=r(184);i.Z.defaults.baseURL="https://slim-mom-fullstack.onrender.com";var d=function(e){var a,r,d,c,u,m,h,v,f,g,x,p,_,j=e.selectedDate,N=(0,s.useState)(null),y=(0,n.Z)(N,2),C=y[0],b=y[1],S=(0,s.useState)([]),k=(0,n.Z)(S,2),I=k[0],D=k[1],w=(0,s.useState)(!0),Z=(0,n.Z)(w,2),M=Z[0],P=Z[1],L=(0,s.useState)(null),R=(0,n.Z)(L,2),A=R[0],F=R[1],W=j.toISOString().slice(0,10);if((0,s.useEffect)((function(){var e=localStorage.getItem("token");e?(i.Z.defaults.headers.common.Authorization="Bearer ".concat(e),i.Z.get("/api/users/getUserData").then((function(e){var a=e.data;return b(a),i.Z.get("/api/products/getConsumedProduct/".concat(W))})).then((function(e){var a=e.data.dailyConsumedProducts;D(a||[])})).catch((function(e){console.error("Error fetching data:",e),F("Failed to fetch data. Please try again.")})).finally((function(){P(!1)}))):P(!1)}),[W]),M)return(0,o.jsx)(l.s5,{visible:!0,height:"24",width:"24",color:"white",strokeWidth:"5",animationDuration:"0.75",ariaLabel:"rotating-lines-loading"});if(A)return(0,o.jsx)("div",{style:{color:"red"},children:A});var q=I.reduce((function(e,a){return e+(a.calories||0)}),0);return(0,o.jsxs)("div",{className:t.summaryContainer,children:[(0,o.jsxs)("div",{className:t.summarySection,children:[(0,o.jsxs)("h2",{className:t.summaryContainerHeader,children:["Summary for ",W]}),(0,o.jsxs)("p",{children:["Left"," ",isNaN((null===C||void 0===C||null===(a=C.user)||void 0===a||null===(r=a.usersInfo)||void 0===r?void 0:r.recommendedCalories)-q)?"000":String(Math.round((null===C||void 0===C||null===(d=C.user)||void 0===d||null===(c=d.usersInfo)||void 0===c?void 0:c.recommendedCalories)-q)).padStart(3,"0")," ","kcal"]}),(0,o.jsxs)("p",{children:["Consumed"," ",isNaN(q)?"000":String(Math.round(q)).padStart(3,"0")," ","kcal"]}),(0,o.jsxs)("p",{children:["Daily rate"," ",isNaN(null===C||void 0===C||null===(u=C.user)||void 0===u||null===(m=u.usersInfo)||void 0===m?void 0:m.recommendedCalories)?"000":String(Math.round((null===C||void 0===C||null===(h=C.user)||void 0===h||null===(v=h.usersInfo)||void 0===v?void 0:v.recommendedCalories)||0)).padStart(3,"0")," ","kcal"]}),(0,o.jsxs)("p",{children:["% of normal"," ",q>0&&(null===C||void 0===C||null===(f=C.user)||void 0===f||null===(g=f.usersInfo)||void 0===g?void 0:g.recommendedCalories)>0?String(Math.round(q/C.user.usersInfo.recommendedCalories*100)).padStart(3,"0"):"000"," ","kcal"]})]}),(0,o.jsxs)("div",{className:t.foodsNotRecommendedSection,children:[(0,o.jsx)("h3",{className:t.summaryContainerHeader,children:"Food not recommended"}),(null===C||void 0===C||null===(x=C.user)||void 0===x||null===(p=x.usersInfo)||void 0===p||null===(_=p.foodsNotRecommended)||void 0===_?void 0:_.length)>0?(0,o.jsx)("ul",{children:C.user.usersInfo.foodsNotRecommended.map((function(e,a){return(0,o.jsx)("li",{children:(r=e,r?r.charAt(0).toUpperCase()+r.slice(1):"")},a);var r}))}):(0,o.jsx)("li",{children:"Your diet will be displayed here"})]})]})}},8275:function(e,a,r){r.r(a),r.d(a,{default:function(){return d}});r(2791);var n=r(7239),s=r(5251),i="CalculatorPage_container__158vw",t="CalculatorPage_dailyCaloriesSection__B5GLf",l="CalculatorPage_summarySection__T6oCZ",o=r(184),d=function(){var e=new Date;return(0,o.jsxs)("div",{className:i,children:[(0,o.jsx)("div",{className:t,children:(0,o.jsx)(n.p,{isLoggedIn:!0})}),(0,o.jsx)("div",{className:l,children:(0,o.jsx)(s.E,{selectedDate:e})})]})}}}]);
//# sourceMappingURL=275.a5e70883.chunk.js.map